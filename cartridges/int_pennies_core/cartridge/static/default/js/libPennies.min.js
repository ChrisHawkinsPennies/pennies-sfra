var $loader,libPennies=function(n,e){function i(n){var i=PenniesUrls.addPenniesDonation;e.ajax({dataType:"html",url:i}).done(function(n){e("#penniesMainContainer").find("#penniesInvitePanelWrap").html(e(n).filter("#penniesMainContainer").find("#penniesInvitePanelWrap").html()),r()})}function a(n){var i=PenniesUrls.removePenniesDonation;e.ajax({dataType:"html",url:i}).done(function(n){e("#penniesMainContainer").find("#penniesInvitePanelWrap").html(e(n).filter("#penniesMainContainer").find("#penniesInvitePanelWrap").html()),r()})}function r(){var n=e("#secondary.summary");!function(n){var i=n&&0!==e(n).length?e(n):e("body");0===($loader=$loader||e(".loader")).length&&($loader=e("<div/>").addClass("loader").append(e("<div/>").addClass("loader-indicator"),e("<div/>").addClass("loader-bg")));$loader.appendTo(i).show()}(n),n.load(Urls.summaryRefreshURL,function(){n.fadeIn("fast"),n.find(".checkout-mini-cart .minishipment .header a").hide(),n.find(".order-totals-table .order-shipping .label a").hide()}),$loader&&$loader.hide()}var d={init:function(){e("body").on("click","span#penniesRemoveBtn",a),e("body").on("click","span#penniesInviteBtn",i)},refreshPenniesBanner:function(){var n=PenniesUrls.refreshPenniesBanner;e.ajax({dataType:"html",url:n}).done(function(n){e("#penniesMainContainer").html(e(n))})}};return e.extend(n,d)}(window.libPennies=window.libPennies||{},jQuery);$(document).ready(function(){libPennies.init()});